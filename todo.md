# Notion 뉴스 자동화 - 작업 목록

## 현재 상태
- [x] 프로젝트 초기 설정 (TypeScript, package.json)
- [x] Notion API 클라이언트 구현
- [x] RSS 피드 파서 통합
- [x] 뉴스 수집 서비스 구현
- [x] Notion 데이터베이스 저장 로직 구현
- [x] 스케줄러 기본 구현
- [x] 환경 변수 설정 구조

## 최우선 작업: GitHub Actions 배포 설정

### 0. GitHub Actions 배포 설정 (최우선)
- [ ] GitHub Actions workflow 파일 생성 (`.github/workflows/news-collector.yml`)
- [ ] Cron 스케줄 설정 (기본: 매일 오전 9시, 오후 6시 한국 시간)
- [ ] 환경 변수 Secrets 설정 가이드 작성
- [ ] 수동 트리거 (workflow_dispatch) 설정
- [ ] GitHub 저장소 생성 및 코드 푸시
- [ ] GitHub Secrets 설정 (NOTION_API_KEY, NOTION_DATABASE_ID)
- [ ] 수동 트리거 테스트
- [ ] 자동 스케줄 실행 확인
- [ ] 실행 로그 확인 방법 문서화

## 필수 작업 (우선순위: 높음)

### 1. 환경 설정 및 테스트
- [ ] `.env` 파일 생성 및 Notion API 키 설정 (로컬 테스트용)
- [ ] Notion 데이터베이스 생성 및 스키마 확인
  - [ ] 제목 (Title) 속성
  - [ ] 링크 (URL) 속성
  - [ ] 설명 (Rich Text) 속성
  - [ ] 출처 (Rich Text) 속성
  - [ ] 날짜 (Date) 속성
- [ ] Integration을 데이터베이스에 연결
- [ ] 데이터베이스 ID 추출 및 환경 변수 설정
- [ ] GitHub 저장소 생성 및 코드 푸시
- [ ] GitHub Secrets 설정 (NOTION_API_KEY, NOTION_DATABASE_ID)
- [ ] GitHub Actions workflow 파일 확인

### 2. 기능 테스트
- [ ] 단일 RSS 피드 수집 테스트
- [ ] 여러 RSS 피드 동시 수집 테스트
- [ ] 중복 제거 로직 검증
- [ ] Notion API 저장 테스트
- [ ] 에러 핸들링 검증

### 3. 스케줄러 검증
- [ ] GitHub Actions Cron 표현식 동작 확인
- [ ] 정기 실행 테스트 (PC가 꺼진 상태에서도 작동 확인)
- [ ] GitHub Actions 로그 출력 확인
- [ ] 수동 트리거 테스트

## 개선 작업 (우선순위: 중간)

### 4. 에러 처리 강화
- [ ] 네트워크 오류 처리
- [ ] Notion API rate limit 처리
- [ ] RSS 피드 파싱 오류 처리
- [ ] 재시도 로직 구현
- [ ] 에러 로깅 시스템

### 5. 중복 방지 개선
- [ ] 데이터베이스 기반 중복 체크 (링크만으로는 부족할 수 있음)
- [ ] 제목 유사도 기반 중복 감지
- [ ] 저장 전 기존 데이터 조회 로직

### 6. 성능 최적화
- [ ] 배치 처리로 API 호출 최소화
- [ ] 병렬 처리로 수집 속도 향상
- [ ] 메모리 사용량 최적화

### 7. 로깅 및 모니터링
- [ ] 구조화된 로그 시스템 (Winston 등)
- [ ] 수집 통계 기록
- [ ] 실패한 피드 추적
- [ ] 성능 메트릭 수집

## 고급 기능 (우선순위: 낮음)

### 8. 사용자 경험 개선
- [ ] CLI 인터페이스 개선
- [ ] 진행 상황 표시 (프로그레스 바)
- [ ] 상세한 실행 리포트 생성
- [ ] 설정 파일 기반 피드 관리

### 9. 데이터 품질 향상
- [ ] 뉴스 내용 요약 기능
- [ ] 카테고리 자동 분류
- [ ] 중요도 점수 계산
- [ ] 이미지 추출 및 저장

### 10. 알림 및 통합
- [ ] 수집 완료 알림 (이메일, 슬랙 등)
- [ ] 실패 시 알림
- [ ] 일일/주간 리포트 생성

### 11. 확장성
- [ ] 플러그인 시스템
- [ ] 다른 뉴스 소스 지원 (API 기반)
- [ ] 다중 데이터베이스 지원
- [ ] 웹훅 지원

## 문서화

### 12. 문서 작성
- [x] README.md 기본 작성
- [ ] PRD 문서 작성
- [ ] API 문서 작성
- [ ] 설정 가이드 상세화
- [ ] 트러블슈팅 가이드

## 배포 및 운영

### 13. 배포 준비
- [x] GitHub Actions 배포 설정 (완료)
- [ ] 프로덕션 환경 변수 설정 (GitHub Secrets)
- [ ] Docker 컨테이너화 (선택사항, 개인용으로는 불필요)
- [ ] CI/CD 파이프라인 구축 (GitHub Actions로 대체)
- [ ] 모니터링 대시보드 설정 (GitHub Actions 로그 활용)

### 14. 백업 및 복구
- [ ] 데이터 백업 전략
- [ ] 실패 시 복구 프로세스
- [ ] 데이터 마이그레이션 스크립트

## 의존성 관계

```
환경 설정 → 기능 테스트 → 스케줄러 검증
    ↓
에러 처리 강화 → 중복 방지 개선 → 성능 최적화
    ↓
로깅 및 모니터링 → 사용자 경험 개선
    ↓
데이터 품질 향상 → 알림 및 통합 → 확장성
```

## 다음 단계
1. 환경 설정 완료 후 기본 기능 테스트
2. 에러 처리 강화
3. 중복 방지 로직 개선
4. 로깅 시스템 도입

